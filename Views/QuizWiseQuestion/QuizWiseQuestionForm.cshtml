@model QuizWiseQuestionModel
<main id="main" class="main">
    <section class="section">
        
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">Quiz Wise Question Form</h5>

                <!-- Vertical Form -->
                <form class="row " asp-controller="QuizWiseQuestion" asp-action="QuizWiseQuestionAddEdit" method="post">

                    @* Hidden CountryID field *@
                    @* ADD THIS! *@
                    <input type="hidden" asp-for="QuizWiseQuestionID" />

                    <div class="col-12">
                        <label for="inputID" class="form-label">QuizID</label>
                        <select class="form-control" asp-for="QuizID">
                            <option value="">Select Quiz</option>
                            @foreach (var quiz in ViewBag.QuizList)
                            {
                                <option value="@quiz.QuizID">@quiz.QuizName</option>
                            } 
                        </select>
                        <span asp-validation-for="QuizID" class="text-danger"></span>
                    </div>

                    <div class="col-12">
                        <label for="inputID" class="form-label">QuestionID</label>
                        <select class="form-control" asp-for="QuestionID">
                            <option value="">Select Question</option>
                            @foreach (var Question in ViewBag.QuestionList)
                            {
                                <option value="@Question.QuestionID">@Question.QuestionText</option>
                            }
                        </select>
                        <span asp-validation-for="QuestionID" class="text-danger"></span>
                    </div>

                    <div class="col-12">
                        <label for="inputID" class="form-label">UserID</label>
                        <select class="form-control" asp-for="UserID">
                            <option value="">Select User</option>
                            @foreach (var user in ViewBag.UserList)
                            {
                                <option value="@user.UserID">@user.UserName</option>
                            }
                        </select>
                        <span asp-validation-for="UserID" class="text-danger"></span>
                    </div>

                    <div class="text-center">
                        <button type="submit" class="btn btn-primary" onclick="showSuccessAndSubmit()">Save</button>
                        <button type="reset" class="btn btn-secondary">Cancel</button>
                    </div>
                </form><!-- Vertical Form -->

            </div>
        </div>

    </section>
    <script>
        //add..
                function showSuccessAndSubmit() {
            Swal.fire({
                position: 'top-end',
                icon: 'success',
                title: 'Your work has been saved',
                showConfirmButton: false,
                timer: 3000
            });

            // Delay form submission until after the toast (optional)
            setTimeout(() => {
                document.getElementById('addForm').submit();
            }, 3000); // Matches the timer duration
        }
    </script>
</main>
